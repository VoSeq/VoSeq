{% extends 'public_interface/base.html' %}
{% load humanize %}


{% block content %}

{% for i in results %}
  {{ i }} 
{% endfor %}

<div class="container">
  <div class="row">
    <div class="col-lg-10 col-lg-offset-1 col-md-offset-1">

      <h3>Search</h3>
      <hr>

    </div><!-- col -->
  </div><!-- row -->

  <div class="row">
    <div class="col-lg-9 col-lg-offset-2 col-md-offset-2">

  {% if result_count > 0 %}
    <p><b>I have found {{ result_count|intcomma }} results for query:</b> {{ query }}</p>

      {% if suggestion != query %}
        <span class="text-warning"><b>Did you mean:</b></span> <a href="/search/?q={{ suggestion }}">{{ suggestion }}</a>
      {% endif %}
    <hr>
  {% endif %}
  <ul>
  {% for result in page.object_list %}
    <li>
      <a href="/p/{{ result.object.code }}">{{ result.object.code }}</a>
         <i>{{ result.object.genus}}</i>
         <i>{{ result.object.species}}</i>

      <br />

      <small>
        {% if result.object.extractor != '' %}
          By {{ result.object.extractor }} on
        {% endif %}

        {{ result.object.timestamp|date }}
      </small>

    </li>
  {% empty %}
    <p>
    <i class="fa fa-search fa-2x"></i>
    <b>No results found.</b></p> You could try an <a href="/search/advanced/">advanced search</a>.
  {% endfor %}
  </ul>

  {% if page.has_previous or page.has_next %}
    <nav>
      <ul class="pagination">
        {% if page.has_previous %}
        <li>
          <a href="?q={{ query }}&amp;page={{ page.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% endif %}

        {% for i in paginator.page_range %}
          {% if i > page.number|add:"-10" and i < page.number|add:"10" %}
            <li {% if page.number == i %} class="active" {% endif %}>
              <a href="?q={{ query }}&amp;page={{ i }}">{{ i }}</a>
            </li>
          {% endif %}
        {% endfor %}

        {% if page.has_next %}
        <li>
          <a href="?q={{ query }}&amp;page={{ page.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>
  {% endif %}

    </div><!-- col -->
  </div><!-- row -->

</div>

{% endblock content %}
