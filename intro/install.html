

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Download to install VoSeq &mdash; VoSeq 2.0.0-beta documentation</title>
  

  
  
    <link rel="shortcut icon" href="../static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="VoSeq 2.0.0-beta documentation" href="../index.html"/>
        <link rel="next" title="Administrate the server with your installation of VoSeq" href="administrate-server.html"/>
        <link rel="prev" title="VoSeq overview" href="overview.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VoSeq
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0-beta
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">VoSeq overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download to install VoSeq</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installation-guide">Installation guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#easy-and-quick-install-recommended">Easy and quick install (recommended)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#long-and-arduous-install">Long and arduous install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-virtual-environment-and-install-dependencies">Create a virtual environment and install dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-and-install-elasticsearch">Download and install elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-install-and-configure-postgresql">Download, install and configure PostgreSQL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configure-voseq">Configure VoSeq</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="administrate-server.html">Administrate the server with your installation of VoSeq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/adding-vouchers.html">Adding vouchers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/adding-genes.html">Adding genes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/adding-sequences.html">Adding sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/create-taxonset.html">Create taxonset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/create-datasets.html">Create datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/upload-voucher-photos.html">Upload voucher photos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/create-voucher-table.html">Create Voucher table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/update-voucher.html">Update voucher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../update-voseq.html">How to update Voseq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate-mysql.html">Migrate VoSeq&#8217;s MySQL database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thanks.html">Thanks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/development.html">Development of VoSeq</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VoSeq</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Download to install VoSeq</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../sources/intro/install.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="download-to-install-voseq">
<span id="intro-install"></span><h1>Download to install VoSeq<a class="headerlink" href="#download-to-install-voseq" title="Permalink to this headline">¶</a></h1>
<p>Install the command line tool <a class="reference external" href="https://git-scm.com/downloads">git</a>.
Then open a terminal and use this command:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">carlosp420</span><span class="o">/</span><span class="n">VoSeq</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>You should see messages similar to these:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">Cloning</span> <span class="n">into</span> <span class="s1">&#39;VoSeq&#39;</span><span class="o">...</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">12597</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">16</span><span class="o">/</span><span class="mi">16</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="p">:</span> <span class="n">Total</span> <span class="mi">12597</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">4</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">0</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pack</span><span class="o">-</span><span class="n">reused</span> <span class="mi">12579</span>
<span class="n">Receiving</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">12597</span><span class="o">/</span><span class="mi">12597</span><span class="p">),</span> <span class="mf">40.75</span> <span class="n">MiB</span> <span class="o">|</span> <span class="mf">10.52</span> <span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Resolving</span> <span class="n">deltas</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">7706</span><span class="o">/</span><span class="mi">7706</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Checking</span> <span class="n">connectivity</span><span class="o">...</span> <span class="n">done</span><span class="o">.</span>
</pre></div>
</div>
<p>The VoSeq source code resides in the newly created folder <code class="docutils literal"><span class="pre">VoSeq</span></code>.</p>
</div>
<div class="section" id="installation-guide">
<h1>Installation guide<a class="headerlink" href="#installation-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="easy-and-quick-install-recommended">
<h2>Easy and quick install (recommended)<a class="headerlink" href="#easy-and-quick-install-recommended" title="Permalink to this headline">¶</a></h2>
<p>Vagrant allows setting up virtual machines that automatically installs all
dependencies and sets up configuration from a <em>recipe</em> contained in the Vagrant
file.</p>
<p>You need both <a class="reference external" href="http://www.vagrantup.com/downloads.html">Vagrant</a> and
<a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> installed in your
computer or server.</p>
<p>Just go to the VoSeq&#8217;s directory to run Vagrant:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">VoSeq</span>
<span class="n">vagrant</span> <span class="n">up</span>
</pre></div>
</div>
<p>If the installation of packages gets interrupted you can relaunch the process
with the following command:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">vagrant</span> <span class="n">reload</span> <span class="o">--</span><span class="n">provision</span>
</pre></div>
</div>
<p>Once the process has finished, you will have a new Ubuntu virtual machine with
VoSeq installed. To enter this virtual machine:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">vagrant</span> <span class="n">ssh</span>
</pre></div>
</div>
<p>Then you just need to run the following commands to set up your database:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">vagrant</span>
<span class="n">workon</span> <span class="n">voseq</span>
<span class="n">make</span> <span class="n">migrations</span>
</pre></div>
</div>
<p>Edit or create a <code class="docutils literal"><span class="pre">conf.json</span></code> file to specify your settings. See
<a class="reference internal" href="#configure"><span class="std std-ref">Configure VoSeq</span></a>.</p>
<p>Additionally, you can import your old VoSeq database from a MySQL dump (see
<a class="reference internal" href="../migrate-mysql.html#migrate-mysql"><span class="std std-ref">Migrate VoSeq&#8217;s MySQL database</span></a>). If you don&#8217;t import anything your VoSeq
installation will be usable, but empty. In such a case, you might want to
import test data:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">test_import</span>
</pre></div>
</div>
<p>Set up an administrator account by using the command <code class="docutils literal"><span class="pre">make</span> <span class="pre">admin</span></code>
(see <a class="reference internal" href="administrate-server.html#administrate-server"><span class="std std-ref">Administrate the server with your installation of VoSeq</span></a>).</p>
<p>It is necessary to index your imported data:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">index</span>
</pre></div>
</div>
<p>Since this installation of VoSeq will be running as a deployed application from
inside the virtual machine you need to collect the static files in the correct
locations:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">collectstatic</span>
</pre></div>
</div>
<p>Then restart the web server:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">supervisorctl</span> <span class="n">restart</span> <span class="n">voseq</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="n">nginx</span> <span class="n">restart</span>
</pre></div>
</div>
<p>In your host system, open your browser and load this URL:
<a class="reference external" href="http://33.33.33.10">http://33.33.33.10</a> to see your fresh installation of VoSeq.</p>
</div>
<div class="section" id="long-and-arduous-install">
<h2>Long and arduous install<a class="headerlink" href="#long-and-arduous-install" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-virtual-environment-and-install-dependencies">
<h3>Create a virtual environment and install dependencies<a class="headerlink" href="#create-a-virtual-environment-and-install-dependencies" title="Permalink to this headline">¶</a></h3>
<p>To ensure that all the dependencies will work without conflict, it is best to install them within a virtual environment.</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">mkvirtualenv</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python3</span> <span class="n">voseq_environment</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">VoSeq</span>
<span class="n">workon</span> <span class="n">voseq_environment</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">/</span><span class="n">testing</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Exit the virtual environment for now to continue from the shell:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">deactivate</span>
</pre></div>
</div>
</div>
<div class="section" id="download-and-install-elasticsearch">
<h3>Download and install elasticsearch<a class="headerlink" href="#download-and-install-elasticsearch" title="Permalink to this headline">¶</a></h3>
<p>For elasticsearch, java needs to be installed. Mac users can download and install <code class="docutils literal"><span class="pre">elasticsearch</span></code>
from here:</p>
<p><a class="reference external" href="http://www.elasticsearch.org/overview/elkdownloads/">http://www.elasticsearch.org/overview/elkdownloads/</a>. In Linux, you can do:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">elastic</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mf">3.</span><span class="n">deb</span>
<span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="n">elasticsearch</span><span class="o">-</span><span class="mf">1.7</span><span class="o">.</span><span class="mf">3.</span><span class="n">deb</span>
</pre></div>
</div>
<p>The bin directory of elasticsearch should be added automatically to your PATH. If not, add the following
line to your <code class="docutils literal"><span class="pre">.profile</span></code> (Linux) or <code class="docutils literal"><span class="pre">.bash_profile</span></code> (macOSX) file:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;$PATH:/path/to/elasticsearch/bin/&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="download-install-and-configure-postgresql">
<h3>Download, install and configure PostgreSQL<a class="headerlink" href="#download-install-and-configure-postgresql" title="Permalink to this headline">¶</a></h3>
<p>For MacOSX users we recommend to do it by downloading the Postgres.app from <a class="reference external" href="http://postgresapp.com">http://postgresapp.com</a>.
Linux users can use apt-get:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">postgresql</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">contrib</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mf">9.3</span>
</pre></div>
</div>
<p>Create new role by typing:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">createuser</span> <span class="o">--</span><span class="n">interactive</span>
</pre></div>
</div>
<p>Enter the psql shell, create a password for this user and create a database for VoSeq:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">psql</span>
<span class="n">postgres</span><span class="o">=</span><span class="c1"># ALTER ROLE postgres WITH PASSWORD &#39;hu8jmn3&#39;;</span>
<span class="n">postgres</span><span class="o">=</span><span class="c1"># create database voseq;</span>
</pre></div>
</div>
<p>In MacOSX if you are using the Postgres.app, it my be enough to run:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">psql</span>
<span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="c1"># CREATE DATABASE voseq;</span>
</pre></div>
</div>
<p>To exit the psql shell:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>\<span class="n">q</span>
</pre></div>
</div>
<p>Edit or create a <code class="docutils literal"><span class="pre">conf.json</span></code> file to specify your settings. See
<a class="reference internal" href="#configure"><span class="std std-ref">Configure VoSeq</span></a>.</p>
</div>
</div>
<div class="section" id="configure-voseq">
<span id="configure"></span><h2>Configure VoSeq<a class="headerlink" href="#configure-voseq" title="Permalink to this headline">¶</a></h2>
<p>Next, create a <code class="docutils literal"><span class="pre">config.json</span></code> file to keep the database variables:</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">Voseq</span>
<span class="n">touch</span> <span class="n">config</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>and write in the following content:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;SECRET_KEY&quot;</span><span class="p">:</span> <span class="s2">&quot;create_a_secret_key&quot;</span><span class="p">,</span>
<span class="s2">&quot;DB_USER&quot;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>
<span class="s2">&quot;DB_PASS&quot;</span><span class="p">:</span> <span class="s2">&quot;hu8jmn3&quot;</span><span class="p">,</span>
<span class="s2">&quot;DB_NAME&quot;</span><span class="p">:</span> <span class="s2">&quot;voseq&quot;</span><span class="p">,</span>
<span class="s2">&quot;DB_PORT&quot;</span><span class="p">:</span> <span class="s2">&quot;5432&quot;</span><span class="p">,</span>
<span class="s2">&quot;DB_HOST&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
<span class="s2">&quot;GOOGLE_MAPS_API_KEY&quot;</span><span class="p">:</span> <span class="s2">&quot;get_a_google_map_api_key&quot;</span><span class="p">,</span>
<span class="s2">&quot;PHOTOS_REPOSITORY&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
<span class="s2">&quot;ELASTICSEARCH&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you want to host your photos in Flickr you need to change the last parameter
of your <code class="docutils literal"><span class="pre">config.json</span></code> file to <code class="docutils literal"><span class="pre">&quot;PHOTOS_REPOSITORY&quot;:</span> <span class="pre">&quot;flickr&quot;</span></code>.</p>
<p>If you followed the above instructions to the letter, the DB_USER will be &#8220;postgres&#8221;
and the DB_PASS will be <code class="docutils literal"><span class="pre">&quot;hu8jmn3&quot;</span></code>. It is of recommended to come up with your
own password. Instructions to obtain a personal google map browser API key can be found
<a class="reference external" href="https://developers.google.com/maps/documentation/javascript/tutorial">here</a>.
You need to create a <strong>Google Maps JavaScript API</strong> for yourself.</p>
<p>After following these four steps everything should be installed and ready to run.
You can now choose to either continue with adding real data migrated from VoSeq 1.x
and setting up a publicly available web server, or to first add some test data and
test the set-up with a lightweight local server included in the VoSeq package.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="administrate-server.html" class="btn btn-neutral float-right" title="Administrate the server with your installation of VoSeq" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="VoSeq overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2015, Carlos Peña, Tobias Malm.
      Last updated on Apr 09, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0.0-beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>